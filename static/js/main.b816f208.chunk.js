(this.webpackJsonpsliceline=this.webpackJsonpsliceline||[]).push([[0],{58:function(e,t,c){},66:function(e,t,c){},72:function(e,t,c){"use strict";c.r(t);var n,r,a,s,o=c(0),i=c.n(o),l=c(15),d=c.n(l),j=(c(58),c(59),c(8)),b=c(23),u=c(18),h=c(19),O=c(1),x=h.b.div(n||(n=Object(u.a)(['\n  height: 300px;\n  background: url("images/banner.jpg");\n  background-position: center;\n  background-size:cover;\n  filter:contrast(80%);\n  display:flex;\n  justify-content:center;\n  align-items:center\n']))),m=function(){return Object(O.jsx)(x,{children:Object(O.jsx)("h1",{style:{color:"white"},children:"Live \ud83d\ude03 . Love \ud83d\udc95 . Eat \ud83c\udf54"})})},g="#e45826",f="#f0a500",p=c(77),y=h.b.div(r||(r=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 25px repeat(4, 1fr);\n  gap: 10px;\n  justify-content: space-evenly;\n"]))),v=function(e){var t=e.orderItem,c=Object(o.useContext)(D);return Object(O.jsxs)(y,{children:[Object(O.jsx)("div",{style:{color:"white"},children:Object(O.jsx)(p.a,{style:{backgroundColor:g},children:t.count})}),Object(O.jsx)("div",{children:Object(O.jsx)("img",{src:t.img,alt:t.name,style:{height:"50px"}})}),Object(O.jsx)("div",{children:Object(O.jsx)("p",{children:t.name})}),Object(O.jsx)("div",{style:{color:g},children:Object(O.jsx)("p",{children:t.price.toLocaleString("en-US",{style:"currency",currency:"EGP"})})}),Object(O.jsx)("div",{style:{color:g,cursor:"pointer"},onClick:function(){return function(e){var t=c.state.orders.filter((function(t){return t.id!==e}));c.setState(Object(j.a)(Object(j.a)({},c.state),{},{orders:t})),localStorage.setItem("bucket",JSON.stringify(t))}(t.id)},children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash-fill",viewBox:"0 0 16 16",children:Object(O.jsx)("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"})})})]})},w=c(52),C=function(){var e=Object(o.useContext)(D),t=Object(o.useState)(.14),c=Object(b.a)(t,2),n=c[0],r=c[1],a=Object(o.useMemo)((function(){return 0!==e.state.orders.length?e.state.orders.reduce((function(e,t){return e+t.count*t.price}),0):0}),[e.state.orders]);Object(o.useEffect)((function(){(new Date).getHours()>18&&r(.16)}),[e.state.orders]);return Object(O.jsxs)("div",{className:"my-5",children:[Object(O.jsx)("h2",{className:"text-center",style:{color:g},children:"Bucket"}),e.state.orders.length<=0?Object(O.jsx)("p",{style:{textAlign:"center"},children:"Bucket is empty."}):e.state.orders.map((function(t,c){return Object(O.jsxs)(i.a.Fragment,{children:[Object(O.jsx)(v,{orderItem:t}),e.state.orders.length-1===c?Object(O.jsx)("br",{}):Object(O.jsx)("hr",{style:{borderColor:g}})]},c)})),Object(O.jsxs)("p",{className:"text-muted text-center",children:["Adding a ",Math.floor(100*n),"% TAX."]}),Object(O.jsxs)("div",{className:"d-block text-center",children:[Object(O.jsxs)(w.a,{disabled:0===e.state.orders.length,style:{backgroundColor:g,borderColor:g},onClick:function(){if(e.state.user)!function(){var t=V.ref("/orders").push(),c=new Date;t.set({time:"".concat(c.getDay(),"/").concat(c.getMonth()+1,"/").concat(c.getFullYear()," ").concat(0===c.getHours()?"00":c.getHours(),":").concat(0===c.getMinutes()?"00":c.getMinutes()),username:e.state.user.displayName,email:e.state.user.email,items:e.state.orders,totalPrice:a+a*n}).then((function(){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{orders:[]})),localStorage.removeItem("bucket")}))}();else{var t=window.firebase.auth(),c=new window.firebase.auth.GoogleAuthProvider;t.signInWithPopup(c),t.onAuthStateChanged((function(t){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{user:t}))}),(function(e){}))}},children:["Checkout",0!==a&&" (".concat((a+a*n).toLocaleString("en-US",{style:"currency",currency:"EGP"}),")")]}),Object(O.jsx)(w.a,{variant:"outline-danger",className:"mx-3",onClick:function(){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{orders:[]})),localStorage.removeItem("bucket")},children:"Reset"})]})]})},S=(c(66),c(79)),k=c(53),N=c(85),I=c(86),E=c(78),L=c(80),P=c(88),A=function(e){var t=e.item,c=e.show,n=e.handleClose,r=Object(o.useContext)(D),a=Object(o.useState)(1),s=Object(b.a)(a,2),i=s[0],l=s[1];if(!t)return null;var d=Object(j.a)(Object(j.a)({},t),{},{count:i});return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(N.a,{size:"sm",show:c,onHide:n,children:[Object(O.jsx)(N.a.Header,{className:"p-0 overflow-hidden",children:Object(O.jsx)("img",{src:t.img,alt:t.name})}),Object(O.jsx)(N.a.Title,{className:"text-center mt-1",style:{color:g},children:t.name}),Object(O.jsx)(N.a.Body,{children:Object(O.jsxs)(I.a,{children:[Object(O.jsxs)(I.a.Item,{children:["Category: ",t.category]}),Object(O.jsx)(I.a.Item,{children:Object(O.jsxs)(E.a,{children:[Object(O.jsx)(S.a,{children:"Quantity: "}),Object(O.jsx)(S.a,{children:Object(O.jsxs)(L.a,{className:"mb-3",children:[Object(O.jsxs)(L.a.Prepend,{children:[Object(O.jsx)(w.a,{style:{backgroundColor:g,borderColor:g},onClick:function(){i>1&&l(i-1)},children:"-"})," "]}),Object(O.jsx)(P.a,{className:"text-center",placeholder:i,"aria-label":"Recipient's username","aria-describedby":"basic-addon2",disabled:!0}),Object(O.jsxs)(L.a.Append,{children:[Object(O.jsx)(w.a,{style:{backgroundColor:g,borderColor:g},onClick:function(){i<10&&l(i+1)},children:"+"})," "]})]})})]})}),Object(O.jsxs)(I.a.Item,{children:["Price:"," ",t.price.toLocaleString("en-US",{style:"currency",currency:"EGP"})]})]})}),Object(O.jsxs)(N.a.Footer,{children:[Object(O.jsx)(w.a,{style:{borderColor:g,color:g},variant:"outline-danger",onClick:n,children:"Close"}),Object(O.jsxs)(w.a,{style:{backgroundColor:g,borderColor:g},onClick:function(){!function(){if(r.state.orders.find((function(e){return e.name===d.name}))){var e=r.state.orders.filter((function(e){return e.name===d.name?e.count+=i:e.count}));r.setState(Object(j.a)(Object(j.a)({},r.state),{},{orders:e}))}else r.setState(Object(j.a)(Object(j.a)({},r.state),{},{orders:[].concat(Object(k.a)(r.state.orders),[d])}));localStorage.setItem("bucket",JSON.stringify(r.state.orders)),l(1)}(),n()},children:["Buy"," ",(t.price*i).toLocaleString("en-US",{style:"currency",currency:"EGP"})]})]})]})})},B=function(e){var t=e.item,c=Object(o.useState)(!1),n=Object(b.a)(c,2),r=n[0],a=n[1],s=t.name,i=t.img,l=t.category,d=t.price;return Object(O.jsxs)(S.a,{md:4,className:"mb-3",children:[Object(O.jsxs)("div",{style:{border:0},className:"card bg-dark text-white",onClick:function(){a(!0)},children:[Object(O.jsx)("img",{src:i,className:"card-img",alt:s}),Object(O.jsxs)("div",{className:"card-img-overlay",children:[Object(O.jsx)("h4",{className:"card-title font-weight-bolder my-0",children:s}),Object(O.jsx)("p",{className:"card-text  m-0",children:l}),Object(O.jsx)("span",{className:"card-text m-0 font-weight-bolder",style:{background:g},children:d.toLocaleString("en-US",{style:"currency",currency:"EGP"})})]})]}),Object(O.jsx)(A,{show:r,handleClose:function(){return a(!1)},item:t})]})},H=c(81),M=function(){var e=Object(o.useContext)(D);return Object(O.jsx)("div",{className:"my-5",children:0===e.state.menu.length?Object(O.jsx)(H.a,{animation:"border",variant:"warning",style:{borderTopColor:f,borderBottomColor:f,borderLeftColor:g,borderRightColor:g,width:"100px",height:"100px",margin:"auto",display:"flex"}}):Object(O.jsx)(E.a,{children:e.state.menu.map((function(e,t){return Object(O.jsx)(B,{item:e},t)}))})})},T=c(87),F=c(84),z=c(82),G=h.b.span(a||(a=Object(u.a)(['\n  font-family: "Righteous", cursive;\n  font-size: 20px;\n  color: white;\n  text-shadow: 3px 3px 5px #333;\n']))),R=function(){var e=Object(o.useContext)(D);return Object(o.useEffect)((function(){}),[e.state.user]),Object(O.jsxs)(T.a,{style:{backgroundColor:g},fixed:"top",children:[Object(O.jsx)(T.a.Brand,{href:"#home",children:Object(O.jsx)(G,{children:"Sliceline \ud83c\udf55"})}),Object(O.jsx)(T.a.Toggle,{}),Object(O.jsx)(T.a.Collapse,{className:"justify-content-end",children:Object(O.jsx)(T.a.Text,{children:e.state.user?Object(O.jsxs)(F.a,{children:[Object(O.jsx)("style",{dangerouslySetInnerHTML:{__html:[".my-special-dropdown:after {",'  content: "";',"  border: 0;","  margin-left: 0;","}"].join("\n")}}),Object(O.jsx)(F.a.Toggle,{style:{background:f,borderColor:f},id:"dropdown-basic",className:"p-0 my-special-dropdown rounded-circle",children:Object(O.jsx)(z.a,{style:{width:"50px",height:"50px"},src:e.state.user.photoURL,roundedCircle:!0})}),Object(O.jsxs)(F.a.Menu,{style:{left:"-120px"},children:[Object(O.jsxs)(F.a.Item,{href:"#/action-1",children:[Object(O.jsx)("span",{style:{color:g},children:"Welcome"})," ",e.state.user.displayName]}),Object(O.jsx)(F.a.Item,{href:"#/action-2",onClick:function(){window.firebase.auth().signOut().then((function(){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{user:null}))})).catch((function(e){}))},children:"Sign Out"})]})]}):Object(O.jsx)(w.a,{style:{background:f,borderColor:f},onClick:function(){var t=window.firebase.auth(),c=new window.firebase.auth.GoogleAuthProvider;t.signInWithPopup(c),t.onAuthStateChanged((function(t){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{user:t})),console.log(t)}),(function(e){}))},children:"Log In"})})})]})},U=c(83),J=Object(h.a)(s||(s=Object(u.a)(["\n  body {\n    margin: 0;\n    padding: 0;\n    background-color: ",";\n    font-family: 'Open Sans', sans-serif;\n  }\n\n  h1, h2, h3 {\n    font-family: 'Righteous', cursive;\n  }\n"])),"#EEE"),D=i.a.createContext("test"),V=window.firebase.database();var W=function(){var e=Object(o.useState)({menu:[],orders:JSON.parse(localStorage.getItem("bucket"))||[],user:null}),t=Object(b.a)(e,2),c=t[0],n=t[1];return Object(o.useEffect)((function(){V.ref("menu").on("value",(function(e){var t=[];e.forEach((function(e){t.push(Object(j.a)(Object(j.a)({},e.val()),{},{id:e.key}))})),n(Object(j.a)(Object(j.a)({},c),{},{menu:t}))})),c.orders.length<=0?document.title="Sliceline":document.title="(".concat(c.orders.length,") Sliceline")}),[]),Object(O.jsxs)(D.Provider,{value:{state:c,setState:n},children:[Object(O.jsx)(J,{}),Object(O.jsx)(R,{}),Object(O.jsx)(m,{}),Object(O.jsx)(U.a,{children:Object(O.jsxs)(E.a,{children:[Object(O.jsxs)(S.a,{md:8,children:[Object(O.jsxs)("a",{className:"btn mt-3",style:{backgroundColor:g,color:"white"},"data-toggle":"collapse",href:"#collapseExample",role:"button","aria-expanded":"false","aria-controls":"collapseExample",children:[Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-funnel-fill mx-1",viewBox:"0 0 16 16",children:Object(O.jsx)("path",{d:"M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2z"})}),"Filter"]}),Object(O.jsx)("div",{className:"collapse",id:"collapseExample",children:Object(O.jsx)("div",{className:"card card-body mt-3",children:"Some placeholder content for the collapse component. This panel is hidden by default but revealed when the user activates the relevant trigger."})}),Object(O.jsx)(M,{})]}),Object(O.jsx)(S.a,{md:4,children:Object(O.jsx)(C,{})})]})})]})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,89)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};d.a.render(Object(O.jsx)(W,{}),document.getElementById("root")),_()}},[[72,1,2]]]);
//# sourceMappingURL=main.b816f208.chunk.js.map